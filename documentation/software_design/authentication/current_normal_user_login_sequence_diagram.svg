<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="872.4px" preserveAspectRatio="none" style="width:757px;height:872px;" version="1.1" viewBox="0 0 757 872" width="757.8px" zoomAndPan="magnify"><defs><filter height="300%" id="fnqzlj2nz66b" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.4" dy="2.4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fnqzlj2nz66b)" height="713.4" style="stroke: #000000; stroke-width: 1.2;" width="700.8" x="48.9" y="98.4656"/><rect fill="#FFFFFF" filter="url(#fnqzlj2nz66b)" height="115.9043" style="stroke: #000000; stroke-width: 1.2;" width="285" x="458.7" y="198.9973"/><rect fill="#FFFFFF" filter="url(#fnqzlj2nz66b)" height="89.7047" style="stroke: #000000; stroke-width: 1.2;" width="408.6" x="107.7" y="348.6879"/><rect fill="#FFFFFF" height="44.1457" style="stroke: none; stroke-width: 0.6;" width="408.6" x="107.7" y="394.2469"/><rect fill="#FFFFFF" height="342.7137" style="stroke: none; stroke-width: 0.6;" width="700.8" x="48.9" y="442.5926"/><rect fill="#FFFFFF" filter="url(#fnqzlj2nz66b)" height="115.9043" style="stroke: #000000; stroke-width: 1.2;" width="285" x="458.7" y="541.7109"/><rect fill="#FFFFFF" filter="url(#fnqzlj2nz66b)" height="89.7047" style="stroke: #000000; stroke-width: 1.2;" width="408.6" x="107.7" y="691.4016"/><rect fill="#FFFFFF" height="44.1457" style="stroke: none; stroke-width: 0.6;" width="408.6" x="107.7" y="736.9605"/><rect fill="#FFFFFF" height="26.5594" style="stroke: none; stroke-width: 0.6;" width="700.8" x="48.9" y="785.3063"/><line style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 5.0,5.0;" x1="13.8" x2="13.8" y1="53.093" y2="822.0656"/><line style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 5.0,5.0;" x1="81.3" x2="81.3" y1="53.093" y2="822.0656"/><line style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 5.0,5.0;" x1="151.5" x2="151.5" y1="53.093" y2="822.0656"/><line style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 5.0,5.0;" x1="283.2" x2="283.2" y1="53.093" y2="822.0656"/><line style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 5.0,5.0;" x1="437.7" x2="437.7" y1="53.093" y2="822.0656"/><line style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 5.0,5.0;" x1="487.5" x2="487.5" y1="53.093" y2="822.0656"/><line style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 5.0,5.0;" x1="613.2" x2="613.2" y1="53.093" y2="822.0656"/><line style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 5.0,5.0;" x1="674.4" x2="674.4" y1="53.093" y2="822.0656"/><line style="stroke: #A80036; stroke-width: 0.6; stroke-dasharray: 5.0,5.0;" x1="726.9" x2="726.9" y1="53.093" y2="822.0656"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="18.6" x="3" y="51.3211">User</text><ellipse cx="14.1" cy="9" fill="#FEFECE" filter="url(#fnqzlj2nz66b)" rx="4.8" ry="4.8" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M14.1,13.8 L14.1,30 M6.3,18.6 L21.9,18.6 M14.1,30 L6.3,39 M14.1,30 L21.9,39 " fill="none" filter="url(#fnqzlj2nz66b)" style="stroke: #A80036; stroke-width: 1.2;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="18.6" x="3" y="829.5867">User</text><ellipse cx="14.1" cy="837.3586" fill="#FEFECE" filter="url(#fnqzlj2nz66b)" rx="4.8" ry="4.8" style="stroke: #A80036; stroke-width: 1.2;"/><path d="M14.1,842.1586 L14.1,858.3586 M6.3,846.9586 L21.9,846.9586 M14.1,858.3586 L6.3,867.3586 M14.1,858.3586 L21.9,867.3586 " fill="none" filter="url(#fnqzlj2nz66b)" style="stroke: #A80036; stroke-width: 1.2;"/><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="50.4" x="54.9" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="42" x="59.1" y="44.1211">LoginView</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="50.4" x="54.9" y="821.4656"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="42" x="59.1" y="833.7867">LoginView</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="73.2" x="113.7" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="117.9" y="44.1211">LoginController</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="73.2" x="113.7" y="821.4656"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="117.9" y="833.7867">LoginController</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="55.8" x="254.4" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="47.4" x="258.6" y="44.1211">UserFacade</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="55.8" x="254.4" y="821.4656"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="47.4" x="258.6" y="833.7867">UserFacade</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="39.6" x="416.7" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="420.9" y="44.1211">Session</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="39.6" x="416.7" y="821.4656"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="420.9" y="833.7867">Session</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="43.2" x="464.7" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="34.8" x="468.9" y="44.1211">UserDao</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="43.2" x="464.7" y="821.4656"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="34.8" x="468.9" y="833.7867">UserDao</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="55.8" x="584.4" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="47.4" x="588.6" y="44.1211">Connection</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="55.8" x="584.4" y="821.4656"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="47.4" x="588.6" y="833.7867">Connection</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="49.8" x="648.6" y="31.8"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="41.4" x="652.8" y="44.1211">Statement</text><rect fill="#FEFECE" filter="url(#fnqzlj2nz66b)" height="18.293" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="49.8" x="648.6" y="821.4656"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="41.4" x="652.8" y="833.7867">Statement</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="10.8" x="719.7" y="51.3211">DB</text><path d="M716.1,21.6 C716.1,15.6 726.9,15.6 726.9,15.6 C726.9,15.6 737.7,15.6 737.7,21.6 L737.7,37.2 C737.7,43.2 726.9,43.2 726.9,43.2 C726.9,43.2 716.1,43.2 716.1,37.2 L716.1,21.6 " fill="#FEFECE" filter="url(#fnqzlj2nz66b)" style="stroke: #000000; stroke-width: 0.8999999999999999;"/><path d="M716.1,21.6 C716.1,27.6 726.9,27.6 726.9,27.6 C726.9,27.6 737.7,27.6 737.7,21.6 " fill="none" style="stroke: #000000; stroke-width: 0.8999999999999999;"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacingAndGlyphs" textLength="10.8" x="719.7" y="829.5867">DB</text><path d="M716.1,837.3586 C716.1,831.3586 726.9,831.3586 726.9,831.3586 C726.9,831.3586 737.7,831.3586 737.7,837.3586 L737.7,852.9586 C737.7,858.9586 726.9,858.9586 726.9,858.9586 C726.9,858.9586 716.1,858.9586 716.1,852.9586 L716.1,837.3586 " fill="#FEFECE" filter="url(#fnqzlj2nz66b)" style="stroke: #000000; stroke-width: 0.8999999999999999;"/><path d="M716.1,837.3586 C716.1,843.3586 726.9,843.3586 726.9,843.3586 C726.9,843.3586 737.7,843.3586 737.7,837.3586 " fill="none" style="stroke: #000000; stroke-width: 0.8999999999999999;"/><polygon fill="#A80036" points="74.1,69.4793,80.1,71.8793,74.1,74.2793,76.5,71.8793" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="14.1" x2="77.7" y1="71.8793" y2="71.8793"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="52.8" x="18.3" y="69.034">Login attempt</text><polygon fill="#A80036" points="144.3,87.0656,150.3,89.4656,144.3,91.8656,146.7,89.4656" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="81.3" x2="147.9" y1="89.4656" y2="89.4656"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="24" x="85.5" y="86.6203">logIn()</text><path d="M48.9,98.4656 L86.1,98.4656 L86.1,102.6656 L80.1,108.6656 L48.9,108.6656 L48.9,98.4656 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6;"/><rect fill="none" height="713.4" style="stroke: #000000; stroke-width: 1.2;" width="700.8" x="48.9" y="98.4656"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.2" x="57.9" y="106.6066">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112.8" x="95.1" y="106.0465">[credentials match phone pattern]</text><polygon fill="#A80036" points="276.3,119.2383,282.3,121.6383,276.3,124.0383,278.7,121.6383" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="151.5" x2="279.9" y1="121.6383" y2="121.6383"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="98.4" x="155.7" y="118.793">phoneLogin(String, String)</text><polygon fill="#A80036" points="480.3,136.8246,486.3,139.2246,480.3,141.6246,482.7,139.2246" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="283.5" x2="483.9" y1="139.2246" y2="139.2246"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="98.4" x="287.7" y="136.3793">phoneLogin(String, String)</text><line style="stroke: #A80036; stroke-width: 0.6;" x1="487.5" x2="512.7" y1="156.8109" y2="156.8109"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="512.7" x2="512.7" y1="156.8109" y2="164.6109"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="488.1" x2="512.7" y1="164.6109" y2="164.6109"/><polygon fill="#A80036" points="494.1,162.2109,488.1,164.6109,494.1,167.0109,491.7,164.6109" style="stroke: #A80036; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="90" x="491.7" y="153.9656">findUserByPhone(String)</text><line style="stroke: #A80036; stroke-width: 0.6;" x1="487.5" x2="512.7" y1="182.1973" y2="182.1973"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="512.7" x2="512.7" y1="182.1973" y2="189.9973"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="488.1" x2="512.7" y1="189.9973" y2="189.9973"/><polygon fill="#A80036" points="494.1,187.5973,488.1,189.9973,494.1,192.3973,491.7,189.9973" style="stroke: #A80036; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="117.6" x="491.7" y="179.352">findNormalUserByPhone(String)</text><path d="M458.7,198.9973 L524.1,198.9973 L524.1,203.1973 L518.1,209.1973 L458.7,209.1973 L458.7,198.9973 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6;"/><rect fill="none" height="115.9043" style="stroke: #000000; stroke-width: 1.2;" width="285" x="458.7" y="198.9973"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="38.4" x="467.7" y="207.1383">DB Query</text><polygon fill="#A80036" points="606.3,219.7699,612.3,222.1699,606.3,224.5699,608.7,222.1699" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="487.5" x2="609.9" y1="222.1699" y2="222.1699"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="65.4" x="491.7" y="219.3246">createStatement()</text><polygon fill="#A80036" points="667.5,237.3563,673.5,239.7563,667.5,242.1563,669.9,239.7563" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="613.5" x2="671.1" y1="239.7563" y2="239.7563"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="27" x="617.7" y="236.9109">creates</text><polygon fill="#A80036" points="494.1,254.9426,488.1,257.3426,494.1,259.7426,491.7,257.3426" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="490.5" x2="674.1" y1="257.3426" y2="257.3426"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="37.8" x="497.7" y="254.4973">Statement</text><polygon fill="#A80036" points="667.5,272.5289,673.5,274.9289,667.5,277.3289,669.9,274.9289" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="487.5" x2="671.1" y1="274.9289" y2="274.9289"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="56.4" x="491.7" y="272.0836">executeQuery()</text><polygon fill="#A80036" points="719.7,290.1152,725.7,292.5152,719.7,294.9152,722.1,292.5152" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="674.7" x2="723.3" y1="292.5152" y2="292.5152"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="37.8" x="678.9" y="289.6699">SQL query</text><polygon fill="#A80036" points="494.1,307.7016,488.1,310.1016,494.1,312.5016,491.7,310.1016" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="490.5" x2="726.3" y1="310.1016" y2="310.1016"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="21.6" x="497.7" y="307.2562">result</text><line style="stroke: #A80036; stroke-width: 0.6;" x1="487.5" x2="512.7" y1="331.8879" y2="331.8879"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="512.7" x2="512.7" y1="331.8879" y2="339.6879"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="488.1" x2="512.7" y1="339.6879" y2="339.6879"/><polygon fill="#A80036" points="494.1,337.2879,488.1,339.6879,494.1,342.0879,491.7,339.6879" style="stroke: #A80036; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="108" x="491.7" y="329.0426">verifyPassword(String,String)</text><path d="M107.7,348.6879 L144.9,348.6879 L144.9,352.8879 L138.9,358.8879 L107.7,358.8879 L107.7,348.6879 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6;"/><rect fill="none" height="89.7047" style="stroke: #000000; stroke-width: 1.2;" width="408.6" x="107.7" y="348.6879"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.2" x="116.7" y="356.8289">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55.2" x="153.9" y="356.2688">[right password]</text><polygon fill="#A80036" points="290.1,369.4605,284.1,371.8605,290.1,374.2605,287.7,371.8605" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="286.5" x2="486.9" y1="371.8605" y2="371.8605"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="16.8" x="293.7" y="369.0152">User</text><polygon fill="#A80036" points="430.5,387.0469,436.5,389.4469,430.5,391.8469,432.9,389.4469" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="283.5" x2="434.1" y1="389.4469" y2="389.4469"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="139.8" x="287.7" y="386.6016">setLoggedInNormalUser(NormalUser)</text><line style="stroke: #000000; stroke-width: 0.6; stroke-dasharray: 2.0,2.0;" x1="107.7" x2="516.3" y1="394.8469" y2="394.8469"/><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="110.7" y="401.2277">[wrong password]</text><polygon fill="#A80036" points="290.1,413.6063,284.1,416.0062,290.1,418.4063,287.7,416.0062" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="286.5" x2="486.9" y1="416.0062" y2="416.0062"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="101.4" x="293.7" y="413.1609">wrong password exception</text><polygon fill="#A80036" points="158.1,431.1926,152.1,433.5926,158.1,435.9926,155.7,433.5926" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="154.5" x2="282.9" y1="433.5926" y2="433.5926"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="117.6" x="161.7" y="430.7473">authentication failed exception</text><line style="stroke: #000000; stroke-width: 0.6; stroke-dasharray: 2.0,2.0;" x1="48.9" x2="749.7" y1="443.1926" y2="443.1926"/><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="51.9" y="449.5734">[credentials match email pattern]</text><polygon fill="#A80036" points="276.3,461.952,282.3,464.352,276.3,466.752,278.7,464.352" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="151.5" x2="279.9" y1="464.352" y2="464.352"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="95.4" x="155.7" y="461.5066">emailLogin(String, String)</text><polygon fill="#A80036" points="480.3,479.5383,486.3,481.9383,480.3,484.3383,482.7,481.9383" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="283.5" x2="483.9" y1="481.9383" y2="481.9383"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="95.4" x="287.7" y="479.093">emailLogin(String, String)</text><line style="stroke: #A80036; stroke-width: 0.6;" x1="487.5" x2="512.7" y1="499.5246" y2="499.5246"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="512.7" x2="512.7" y1="499.5246" y2="507.3246"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="488.1" x2="512.7" y1="507.3246" y2="507.3246"/><polygon fill="#A80036" points="494.1,504.9246,488.1,507.3246,494.1,509.7246,491.7,507.3246" style="stroke: #A80036; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="87.6" x="491.7" y="496.6793">findUserByEmail(String)</text><line style="stroke: #A80036; stroke-width: 0.6;" x1="487.5" x2="512.7" y1="524.9109" y2="524.9109"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="512.7" x2="512.7" y1="524.9109" y2="532.7109"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="488.1" x2="512.7" y1="532.7109" y2="532.7109"/><polygon fill="#A80036" points="494.1,530.3109,488.1,532.7109,494.1,535.1109,491.7,532.7109" style="stroke: #A80036; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="115.2" x="491.7" y="522.0656">findNormalUserByEmail(String)</text><path d="M458.7,541.7109 L524.1,541.7109 L524.1,545.9109 L518.1,551.9109 L458.7,551.9109 L458.7,541.7109 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6;"/><rect fill="none" height="115.9043" style="stroke: #000000; stroke-width: 1.2;" width="285" x="458.7" y="541.7109"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="38.4" x="467.7" y="549.852">DB Query</text><polygon fill="#A80036" points="606.3,562.4836,612.3,564.8836,606.3,567.2836,608.7,564.8836" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="487.5" x2="609.9" y1="564.8836" y2="564.8836"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="65.4" x="491.7" y="562.0383">createStatement()</text><polygon fill="#A80036" points="667.5,580.0699,673.5,582.4699,667.5,584.8699,669.9,582.4699" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="613.5" x2="671.1" y1="582.4699" y2="582.4699"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="27" x="617.7" y="579.6246">creates</text><polygon fill="#A80036" points="494.1,597.6563,488.1,600.0563,494.1,602.4563,491.7,600.0563" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="490.5" x2="674.1" y1="600.0563" y2="600.0563"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="37.8" x="497.7" y="597.2109">Statement</text><polygon fill="#A80036" points="667.5,615.2426,673.5,617.6426,667.5,620.0426,669.9,617.6426" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="487.5" x2="671.1" y1="617.6426" y2="617.6426"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="56.4" x="491.7" y="614.7973">executeQuery()</text><polygon fill="#A80036" points="719.7,632.8289,725.7,635.2289,719.7,637.6289,722.1,635.2289" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="674.7" x2="723.3" y1="635.2289" y2="635.2289"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="37.8" x="678.9" y="632.3836">SQL query</text><polygon fill="#A80036" points="494.1,650.4152,488.1,652.8152,494.1,655.2152,491.7,652.8152" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="490.5" x2="726.3" y1="652.8152" y2="652.8152"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="21.6" x="497.7" y="649.9699">result</text><line style="stroke: #A80036; stroke-width: 0.6;" x1="487.5" x2="512.7" y1="674.6016" y2="674.6016"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="512.7" x2="512.7" y1="674.6016" y2="682.4016"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="488.1" x2="512.7" y1="682.4016" y2="682.4016"/><polygon fill="#A80036" points="494.1,680.0016,488.1,682.4016,494.1,684.8016,491.7,682.4016" style="stroke: #A80036; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="108" x="491.7" y="671.7563">verifyPassword(String,String)</text><path d="M107.7,691.4016 L144.9,691.4016 L144.9,695.6016 L138.9,701.6016 L107.7,701.6016 L107.7,691.4016 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.6;"/><rect fill="none" height="89.7047" style="stroke: #000000; stroke-width: 1.2;" width="408.6" x="107.7" y="691.4016"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.2" x="116.7" y="699.5426">alt</text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55.2" x="153.9" y="698.9824">[right password]</text><polygon fill="#A80036" points="290.1,712.1742,284.1,714.5742,290.1,716.9742,287.7,714.5742" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="286.5" x2="486.9" y1="714.5742" y2="714.5742"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="16.8" x="293.7" y="711.7289">User</text><polygon fill="#A80036" points="430.5,729.7605,436.5,732.1605,430.5,734.5605,432.9,732.1605" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="283.5" x2="434.1" y1="732.1605" y2="732.1605"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="139.8" x="287.7" y="729.3152">setLoggedInNormalUser(NormalUser)</text><line style="stroke: #000000; stroke-width: 0.6; stroke-dasharray: 2.0,2.0;" x1="107.7" x2="516.3" y1="737.5605" y2="737.5605"/><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="110.7" y="743.9414">[wrong password]</text><polygon fill="#A80036" points="290.1,756.3199,284.1,758.7199,290.1,761.1199,287.7,758.7199" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="286.5" x2="486.9" y1="758.7199" y2="758.7199"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="101.4" x="293.7" y="755.8746">wrong password exception</text><polygon fill="#A80036" points="158.1,773.9063,152.1,776.3063,158.1,778.7063,155.7,776.3063" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="154.5" x2="282.9" y1="776.3063" y2="776.3063"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="117.6" x="161.7" y="773.4609">authentication failed exception</text><line style="stroke: #000000; stroke-width: 0.6; stroke-dasharray: 2.0,2.0;" x1="48.9" x2="749.7" y1="785.9063" y2="785.9063"/><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67.2" x="51.9" y="792.2871">[invalid credentials]</text><polygon fill="#A80036" points="87.9,804.6656,81.9,807.0656,87.9,809.4656,85.5,807.0656" style="stroke: #A80036; stroke-width: 0.6;"/><line style="stroke: #A80036; stroke-width: 0.6;" x1="84.3" x2="282.9" y1="807.0656" y2="807.0656"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="53.4" x="91.5" y="804.2203">error message</text><!--MD5=[691deb13f75dc45e6d8f0349ff9d302e]
@startuml Normal_User_Login_sequence_diagram
actor User
Participant LoginView
Participant LoginController
Participant UserFacade
Participant Session
Participant UserDao
Participant Connection
Participant Statement
Database DB


User -> LoginView : Login attempt
LoginView -> LoginController : logIn()

alt credentials match phone pattern
    LoginController -> UserFacade : phoneLogin(String, String)
    UserFacade -> UserDao : phoneLogin(String, String)
    UserDao -> UserDao : findUserByPhone(String)
    UserDao -> UserDao : findNormalUserByPhone(String)
       group DB Query
            UserDao -> Connection : createStatement()
            Connection -> Statement : creates
            Statement -> UserDao : Statement
            UserDao -> Statement : executeQuery()
            Statement -> DB : SQL query
            UserDao <- DB : result
       end
        UserDao -> UserDao : verifyPassword(String,String)
        alt right password
            UserDao -> UserFacade : User
            UserFacade -> Session : setLoggedInNormalUser(NormalUser)
        else wrong password
            UserDao -> UserFacade : wrong password exception
            UserFacade -> LoginController : authentication failed exception
        end



else credentials match email pattern
         LoginController -> UserFacade : emailLogin(String, String)
         UserFacade -> UserDao : emailLogin(String, String)
         UserDao -> UserDao : findUserByEmail(String)
         UserDao -> UserDao : findNormalUserByEmail(String)
            group DB Query
                 UserDao -> Connection : createStatement()
                 Connection -> Statement : creates
                 Statement -> UserDao : Statement
                 UserDao -> Statement : executeQuery()
                 Statement -> DB : SQL query
                 UserDao <- DB : result
            end
             UserDao -> UserDao : verifyPassword(String,String)
             alt right password
                 UserDao -> UserFacade : User
                 UserFacade -> Session : setLoggedInNormalUser(NormalUser)
             else wrong password
                 UserDao -> UserFacade : wrong password exception
                 UserFacade -> LoginController : authentication failed exception
             end
else invalid credentials
     UserFacade -> LoginView : error message
end


@enduml

PlantUML version 1.2020.20(Sat Nov 21 11:02:45 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>