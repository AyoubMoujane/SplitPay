<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="445px" preserveAspectRatio="none" style="width:610px;height:445px;" version="1.1" viewBox="0 0 610 445" width="610px" zoomAndPan="magnify"><defs><filter height="300%" id="f1299kth99jtnb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1299kth99jtnb)" height="286.4844" style="stroke:#A80036;stroke-width:1.0;" width="10" x="533" y="104.3125"/><rect fill="#FFFFFF" filter="url(#f1299kth99jtnb)" height="234.1328" style="stroke:#000000;stroke-width:2.0;" width="520.5" x="76" y="149.6641"/><rect fill="#FFFFFF" filter="url(#f1299kth99jtnb)" height="94.8906" style="stroke:#000000;stroke-width:2.0;" width="500.5" x="86" y="235.7188"/><rect fill="#FFFFFF" height="46.1875" style="stroke:none;stroke-width:1.0;" width="500.5" x="86" y="284.4219"/><rect fill="#FFFFFF" height="46.1875" style="stroke:none;stroke-width:1.0;" width="520.5" x="76" y="337.6094"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="169" x2="169" y1="41.6094" y2="400.7969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="355.5" x2="355.5" y1="41.6094" y2="400.7969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="537.5" x2="537.5" y1="41.6094" y2="400.7969"/><rect fill="#FEFECE" filter="url(#f1299kth99jtnb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="142" x="96" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="103" y="26.5332">AddFriendController</text><rect fill="#FEFECE" filter="url(#f1299kth99jtnb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="142" x="96" y="399.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="103" y="421.3301">AddFriendController</text><rect fill="#FEFECE" filter="url(#f1299kth99jtnb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="135" x="286.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="293.5" y="26.5332">NormalUserFacade</text><rect fill="#FEFECE" filter="url(#f1299kth99jtnb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="135" x="286.5" y="399.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="293.5" y="421.3301">NormalUserFacade</text><rect fill="#FEFECE" filter="url(#f1299kth99jtnb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="499.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="506.5" y="26.5332">UserDAO</text><rect fill="#FEFECE" filter="url(#f1299kth99jtnb)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="499.5" y="399.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="506.5" y="421.3301">UserDAO</text><rect fill="#FFFFFF" filter="url(#f1299kth99jtnb)" height="286.4844" style="stroke:#A80036;stroke-width:1.0;" width="10" x="533" y="104.3125"/><polygon fill="#A80036" points="157,69.9609,167,73.9609,157,77.9609,161,73.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="0" x2="163" y1="73.9609" y2="73.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="7" y="69.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="18" y="69.1045">addFriend(ActionEvent)</text><polygon fill="#A80036" points="344,100.3125,354,104.3125,344,108.3125,348,104.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="169" x2="350" y1="104.3125" y2="104.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="176" y="99.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="187" y="99.4561">addFriendByPhone(String)</text><polygon fill="#A80036" points="521,130.6641,531,134.6641,521,138.6641,525,134.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="356" x2="527" y1="134.6641" y2="134.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="363" y="129.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="374" y="129.8076">findUserByPhone(String)</text><path d="M76,149.6641 L137,149.6641 L137,157.6641 L127,167.6641 L76,167.6641 L76,149.6641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="234.1328" style="stroke:#000000;stroke-width:2.0;" width="520.5" x="76" y="149.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="91" y="164.1592">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="152" y="163.083">[success]</text><polygon fill="#A80036" points="367,186.3672,357,190.3672,367,194.3672,363,190.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="361" x2="532" y1="190.3672" y2="190.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="373" y="185.5107">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="384" y="185.5107">NormalUser</text><polygon fill="#A80036" points="521,216.7188,531,220.7188,521,224.7188,525,220.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="356" x2="527" y1="220.7188" y2="220.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="363" y="215.8623">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="374" y="215.8623">addFriend(NormalUser)</text><path d="M86,235.7188 L147,235.7188 L147,243.7188 L137,253.7188 L86,253.7188 L86,235.7188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:2.0;" width="500.5" x="86" y="235.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="101" y="250.2139">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="162" y="249.1377">[success]</text><polygon fill="#A80036" points="180,272.4219,170,276.4219,180,280.4219,176,276.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="174" x2="532" y1="276.4219" y2="276.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="186" y="271.5654">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="197" y="271.5654">done</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="86" x2="586.5" y1="285.4219" y2="285.4219"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="91" y="296.8408">[exception]</text><polygon fill="#A80036" points="180,318.6094,170,322.6094,180,326.6094,176,322.6094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="174" x2="532" y1="322.6094" y2="322.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="186" y="317.7529">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="197" y="317.7529">unique key exception</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="76" x2="596.5" y1="338.6094" y2="338.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="81" y="350.0283">[exception]</text><polygon fill="#A80036" points="180,371.7969,170,375.7969,180,379.7969,176,375.7969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="174" x2="532" y1="375.7969" y2="375.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="186" y="370.9404">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="197" y="370.9404">user not found exception</text><!--MD5=[cc214360b965ae22d43fe5eb5ce9a640]
@startuml
autonumber

-> AddFriendController : addFriend(ActionEvent)
AddFriendController -> NormalUserFacade : addFriendByPhone(String)
activate UserDAO
NormalUserFacade -> UserDAO : findUserByPhone(String)

alt success
UserDAO -> NormalUserFacade : NormalUser
NormalUserFacade -> UserDAO : addFriend(NormalUser)
    alt success
    UserDAO - -> AddFriendController : done
    else exception
    UserDAO - -> AddFriendController : unique key exception
    end
else exception
UserDAO - -> AddFriendController : user not found exception
end

deactivate UserDAO

@enduml

PlantUML version 1.2020.23(Sun Dec 13 20:14:58 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>