<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="333.75px" preserveAspectRatio="none" style="width:457px;height:333px;" version="1.1" viewBox="0 0 457 333" width="457.5px" zoomAndPan="magnify"><defs><filter height="300%" id="fvreeibztr2g2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.0" dy="3.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fvreeibztr2g2)" height="214.8633" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="399.75" y="78.2344"/><rect fill="#FFFFFF" filter="url(#fvreeibztr2g2)" height="175.5996" style="stroke:#000000;stroke-width:1.5;" width="390.375" x="57" y="112.248"/><rect fill="#FFFFFF" filter="url(#fvreeibztr2g2)" height="71.168" style="stroke:#000000;stroke-width:1.5;" width="375.375" x="64.5" y="176.7891"/><rect fill="#FFFFFF" height="34.6406" style="stroke:none;stroke-width:0.75;" width="375.375" x="64.5" y="213.3164"/><rect fill="#FFFFFF" height="34.6406" style="stroke:none;stroke-width:0.75;" width="390.375" x="57" y="253.207"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="126.75" x2="126.75" y1="31.207" y2="300.5977"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="266.625" x2="266.625" y1="31.207" y2="300.5977"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="403.125" x2="403.125" y1="31.207" y2="300.5977"/><rect fill="#FEFECE" filter="url(#fvreeibztr2g2)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="106.5" x="72" y="3.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="96" x="77.25" y="19.8999">AddFriendController</text><rect fill="#FEFECE" filter="url(#fvreeibztr2g2)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="106.5" x="72" y="299.8477"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="96" x="77.25" y="315.9976">AddFriendController</text><rect fill="#FEFECE" filter="url(#fvreeibztr2g2)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="101.25" x="214.875" y="3.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="90.75" x="220.125" y="19.8999">NormalUserFacade</text><rect fill="#FEFECE" filter="url(#fvreeibztr2g2)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="101.25" x="214.875" y="299.8477"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="90.75" x="220.125" y="315.9976">NormalUserFacade</text><rect fill="#FEFECE" filter="url(#fvreeibztr2g2)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="54.75" x="374.625" y="3.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="44.25" x="379.875" y="19.8999">UserDAO</text><rect fill="#FEFECE" filter="url(#fvreeibztr2g2)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="54.75" x="374.625" y="299.8477"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="44.25" x="379.875" y="315.9976">UserDAO</text><rect fill="#FFFFFF" filter="url(#fvreeibztr2g2)" height="214.8633" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="399.75" y="78.2344"/><polygon fill="#A80036" points="117.75,52.4707,125.25,55.4707,117.75,58.4707,120.75,55.4707" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="0" x2="122.25" y1="55.4707" y2="55.4707"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="5.25" y="51.8284">1</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="100.5" x="13.5" y="51.8284">addFriend(ActionEvent)</text><polygon fill="#A80036" points="258,75.2344,265.5,78.2344,258,81.2344,261,78.2344" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="126.75" x2="262.5" y1="78.2344" y2="78.2344"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="132" y="74.592">2</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="114" x="140.25" y="74.592">addFriendByPhone(String)</text><polygon fill="#A80036" points="390.75,97.998,398.25,100.998,390.75,103.998,393.75,100.998" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="267" x2="395.25" y1="100.998" y2="100.998"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="272.25" y="97.3557">3</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="106.5" x="280.5" y="97.3557">findUserByPhone(String)</text><path d="M57,112.248 L102.75,112.248 L102.75,118.248 L95.25,125.748 L57,125.748 L57,112.248 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.75;"/><rect fill="none" height="175.5996" style="stroke:#000000;stroke-width:1.5;" width="390.375" x="57" y="112.248"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12" x="68.25" y="123.1194">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41.25" x="114" y="122.3123">[success]</text><polygon fill="#A80036" points="275.25,139.7754,267.75,142.7754,275.25,145.7754,272.25,142.7754" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="270.75" x2="399" y1="142.7754" y2="142.7754"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="279.75" y="139.1331">4</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="51" x="288" y="139.1331">NormalUser</text><polygon fill="#A80036" points="390.75,162.5391,398.25,165.5391,390.75,168.5391,393.75,165.5391" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="267" x2="395.25" y1="165.5391" y2="165.5391"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="272.25" y="161.8967">5</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="99.75" x="280.5" y="161.8967">addFriend(NormalUser)</text><path d="M64.5,176.7891 L110.25,176.7891 L110.25,182.7891 L102.75,190.2891 L64.5,190.2891 L64.5,176.7891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.75;"/><rect fill="none" height="71.168" style="stroke:#000000;stroke-width:1.5;" width="375.375" x="64.5" y="176.7891"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12" x="75.75" y="187.6604">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41.25" x="121.5" y="186.8533">[success]</text><polygon fill="#A80036" points="135,204.3164,127.5,207.3164,135,210.3164,132,207.3164" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="130.5" x2="399" y1="207.3164" y2="207.3164"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="139.5" y="203.6741">6</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="21" x="147.75" y="203.6741">done</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="64.5" x2="439.875" y1="214.0664" y2="214.0664"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46.5" x="68.25" y="222.6306">[exception]</text><polygon fill="#A80036" points="135,238.957,127.5,241.957,135,244.957,132,241.957" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="130.5" x2="399" y1="241.957" y2="241.957"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="139.5" y="238.3147">7</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="92.25" x="147.75" y="238.3147">unique key exception</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="57" x2="447.375" y1="253.957" y2="253.957"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46.5" x="60.75" y="262.5212">[exception]</text><polygon fill="#A80036" points="135,278.8477,127.5,281.8477,135,284.8477,132,281.8477" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="130.5" x2="399" y1="281.8477" y2="281.8477"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="139.5" y="278.2053">8</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="106.5" x="147.75" y="278.2053">user not found exception</text><!--MD5=[1237fcdfe20c9b08f5121178916e5cc7]
@startuml
autonumber

- -> AddFriendController : addFriend(ActionEvent)
AddFriendController -> NormalUserFacade : addFriendByPhone(String)
activate UserDAO
NormalUserFacade -> UserDAO : findUserByPhone(String)

alt success
UserDAO -> NormalUserFacade : NormalUser
NormalUserFacade -> UserDAO : addFriend(NormalUser)
    alt success
    UserDAO - -> AddFriendController : done
    else exception
    UserDAO - -> AddFriendController : unique key exception
    end
else exception
UserDAO - -> AddFriendController : user not found exception
end

deactivate UserDAO

@enduml

PlantUML version 1.2020.23(Sun Dec 13 20:14:58 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>