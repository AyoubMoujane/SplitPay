<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="639.75px" preserveAspectRatio="none" style="width:981px;height:639px;" version="1.1" viewBox="0 0 981 639" width="981.75px" zoomAndPan="magnify"><defs><filter height="300%" id="fi6hrn3r1g1u9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.5"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.0" dy="3.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fi6hrn3r1g1u9)" height="45.5273" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="931.5" y="484.957"/><rect fill="#FFFFFF" filter="url(#fi6hrn3r1g1u9)" height="71.168" style="stroke:#000000;stroke-width:1.5;" width="371.25" x="600.375" y="135.0117"/><rect fill="#FFFFFF" height="34.6406" style="stroke:none;stroke-width:0.75;" width="371.25" x="600.375" y="171.5391"/><rect fill="#FFFFFF" filter="url(#fi6hrn3r1g1u9)" height="71.168" style="stroke:#000000;stroke-width:1.5;" width="371.25" x="600.375" y="262.207"/><rect fill="#FFFFFF" height="34.6406" style="stroke:none;stroke-width:0.75;" width="371.25" x="600.375" y="298.7344"/><rect fill="#FFFFFF" filter="url(#fi6hrn3r1g1u9)" height="116.6953" style="stroke:#000000;stroke-width:1.5;" width="969.375" x="2.25" y="454.4297"/><rect fill="#FFFFFF" height="34.6406" style="stroke:none;stroke-width:0.75;" width="969.375" x="2.25" y="536.4844"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="80.25" x2="80.25" y1="31.207" y2="606.6387"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="239.625" x2="239.625" y1="31.207" y2="606.6387"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="468" x2="468" y1="31.207" y2="606.6387"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="697.125" x2="697.125" y1="31.207" y2="606.6387"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="829.125" x2="829.125" y1="31.207" y2="606.6387"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:5.0,5.0;" x1="934.875" x2="934.875" y1="31.207" y2="606.6387"/><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="140.25" x="9" y="3.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="129.75" x="14.25" y="19.8999">ChangePasswordController</text><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="140.25" x="9" y="605.8887"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="129.75" x="14.25" y="622.0386">ChangePasswordController</text><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="103.5" x="186.375" y="3.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="93" x="191.625" y="19.8999">ValidationController</text><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="103.5" x="186.375" y="605.8887"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="93" x="191.625" y="622.0386">ValidationController</text><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="48.75" x="442.5" y="3.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="38.25" x="447.75" y="19.8999">SplitPay</text><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="48.75" x="442.5" y="605.8887"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="38.25" x="447.75" y="622.0386">SplitPay</text><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="175.5" x="607.875" y="3.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="165" x="613.125" y="19.8999">ChooseValidationMethodController</text><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="175.5" x="607.875" y="605.8887"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="165" x="613.125" y="622.0386">ChooseValidationMethodController</text><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="68.25" x="793.875" y="3.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="57.75" x="799.125" y="19.8999">UserFacade</text><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="68.25" x="793.875" y="605.8887"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="57.75" x="799.125" y="622.0386">UserFacade</text><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="54.75" x="906.375" y="3.75"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="44.25" x="911.625" y="19.8999">UserDAO</text><rect fill="#FEFECE" filter="url(#fi6hrn3r1g1u9)" height="23.707" style="stroke:#A80036;stroke-width:1.125;" width="54.75" x="906.375" y="605.8887"/><text fill="#000000" font-family="sans-serif" font-size="10.5" lengthAdjust="spacingAndGlyphs" textLength="44.25" x="911.625" y="622.0386">UserDAO</text><rect fill="#FFFFFF" filter="url(#fi6hrn3r1g1u9)" height="45.5273" style="stroke:#A80036;stroke-width:0.75;" width="7.5" x="931.5" y="484.957"/><polygon fill="#A80036" points="230.625,52.4707,238.125,55.4707,230.625,58.4707,233.625,55.4707" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="80.625" x2="235.125" y1="55.4707" y2="55.4707"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="85.875" y="51.8284">1</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="132.75" x="94.125" y="51.8284">tempUser.setPassword(String)</text><polygon fill="#A80036" points="459.375,75.2344,466.875,78.2344,459.375,81.2344,462.375,78.2344" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="80.625" x2="463.875" y1="78.2344" y2="78.2344"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="85.875" y="74.592">2</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="197.25" x="94.125" y="74.592">window.setScene(new Scene(Parent, int, int))</text><polygon fill="#A80036" points="820.5,97.998,828,100.998,820.5,103.998,823.5,100.998" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="697.125" x2="825" y1="100.998" y2="100.998"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="702.375" y="97.3557">3</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="79.5" x="710.625" y="97.3557">getVerifiedPhone()</text><polygon fill="#A80036" points="926.25,120.7617,933.75,123.7617,926.25,126.7617,929.25,123.7617" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="829.5" x2="930.75" y1="123.7617" y2="123.7617"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="834.75" y="120.1194">4</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="79.5" x="843" y="120.1194">getVerifiedPhone()</text><path d="M600.375,135.0117 L646.125,135.0117 L646.125,141.0117 L638.625,148.5117 L600.375,148.5117 L600.375,135.0117 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.75;"/><rect fill="none" height="71.168" style="stroke:#000000;stroke-width:1.5;" width="371.25" x="600.375" y="135.0117"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12" x="611.625" y="145.8831">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111.75" x="657.375" y="145.0759">[user has a verified phone]</text><polygon fill="#A80036" points="705.375,162.5391,697.875,165.5391,705.375,168.5391,702.375,165.5391" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="700.875" x2="934.5" y1="165.5391" y2="165.5391"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="709.875" y="161.8967">5</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="26.25" x="718.125" y="161.8967">phone</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="600.375" x2="971.625" y1="172.2891" y2="172.2891"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="604.125" y="180.8533">[verified phone = null]</text><polygon fill="#A80036" points="705.375,197.1797,697.875,200.1797,705.375,203.1797,702.375,200.1797" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="700.875" x2="934.5" y1="200.1797" y2="200.1797"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="709.875" y="196.5374">6</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="42" x="718.125" y="196.5374">exception</text><polygon fill="#A80036" points="820.5,225.1934,828,228.1934,820.5,231.1934,823.5,228.1934" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="697.125" x2="825" y1="228.1934" y2="228.1934"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="702.375" y="224.551">7</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="83.25" x="710.625" y="224.551">getVerifiedPEmail()</text><polygon fill="#A80036" points="926.25,247.957,933.75,250.957,926.25,253.957,929.25,250.957" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="829.5" x2="930.75" y1="250.957" y2="250.957"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="834.75" y="247.3147">8</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="76.5" x="843" y="247.3147">getVerifiedEmail()</text><path d="M600.375,262.207 L646.125,262.207 L646.125,268.207 L638.625,275.707 L600.375,275.707 L600.375,262.207 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.75;"/><rect fill="none" height="71.168" style="stroke:#000000;stroke-width:1.5;" width="371.25" x="600.375" y="262.207"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12" x="611.625" y="273.0784">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="657.375" y="272.2712">[user has a verified email]</text><polygon fill="#A80036" points="705.375,289.7344,697.875,292.7344,705.375,295.7344,702.375,292.7344" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="700.875" x2="934.5" y1="292.7344" y2="292.7344"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="5.25" x="709.875" y="289.092">9</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="23.25" x="718.125" y="289.092">email</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="600.375" x2="971.625" y1="299.4844" y2="299.4844"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86.25" x="604.125" y="308.0486">[verified email = null]</text><polygon fill="#A80036" points="705.375,324.375,697.875,327.375,705.375,330.375,702.375,327.375" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="700.875" x2="934.5" y1="327.375" y2="327.375"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.5" x="709.875" y="323.7327">10</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="42" x="723.375" y="323.7327">exception</text><polygon fill="#A80036" points="247.875,352.3887,240.375,355.3887,247.875,358.3887,244.875,355.3887" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="243.375" x2="696.375" y1="355.3887" y2="355.3887"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.5" x="252.375" y="351.7463">11</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="154.5" x="265.875" y="351.7463">isPhoneValidationMethod(Boolean);</text><polygon fill="#A80036" points="476.625,375.1523,469.125,378.1523,476.625,381.1523,473.625,378.1523" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="472.125" x2="696.375" y1="378.1523" y2="378.1523"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.5" x="481.125" y="374.51">12</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="197.25" x="494.625" y="374.51">window.setScene(new Scene(Parent, int, int))</text><line style="stroke:#A80036;stroke-width:0.75;" x1="239.625" x2="271.125" y1="400.916" y2="400.916"/><line style="stroke:#A80036;stroke-width:0.75;" x1="271.125" x2="271.125" y1="400.916" y2="410.666"/><line style="stroke:#A80036;stroke-width:0.75;" x1="240.375" x2="271.125" y1="410.666" y2="410.666"/><polygon fill="#A80036" points="247.875,407.666,240.375,410.666,247.875,413.666,244.875,410.666" style="stroke:#A80036;stroke-width:0.75;"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.5" x="244.875" y="397.2737">13</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="108.75" x="258.375" y="397.2737">generateValidationCode()</text><line style="stroke:#A80036;stroke-width:0.75;" x1="239.625" x2="271.125" y1="433.4297" y2="433.4297"/><line style="stroke:#A80036;stroke-width:0.75;" x1="271.125" x2="271.125" y1="433.4297" y2="443.1797"/><line style="stroke:#A80036;stroke-width:0.75;" x1="240.375" x2="271.125" y1="443.1797" y2="443.1797"/><polygon fill="#A80036" points="247.875,440.1797,240.375,443.1797,247.875,446.1797,244.875,443.1797" style="stroke:#A80036;stroke-width:0.75;"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.5" x="244.875" y="429.7874">14</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="92.25" x="258.375" y="429.7874">sendValidationCode()</text><path d="M2.25,454.4297 L48,454.4297 L48,460.4297 L40.5,467.9297 L2.25,467.9297 L2.25,454.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.75;"/><rect fill="none" height="116.6953" style="stroke:#000000;stroke-width:1.5;" width="969.375" x="2.25" y="454.4297"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12" x="13.5" y="465.301">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41.25" x="59.25" y="464.4939">[success]</text><polygon fill="#A80036" points="820.5,481.957,828,484.957,820.5,487.957,823.5,484.957" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="239.625" x2="825" y1="484.957" y2="484.957"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.5" x="244.875" y="481.3147">15</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="97.5" x="258.375" y="481.3147">updateUser(tempUser)</text><polygon fill="#A80036" points="922.5,504.7207,930,507.7207,922.5,510.7207,925.5,507.7207" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="829.5" x2="927" y1="507.7207" y2="507.7207"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.5" x="834.75" y="504.0784">16</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="55.5" x="848.25" y="504.0784">update(User)</text><polygon fill="#A80036" points="247.875,527.4844,240.375,530.4844,247.875,533.4844,244.875,530.4844" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="243.375" x2="934.5" y1="530.4844" y2="530.4844"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.5" x="252.375" y="526.842">17</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="21" x="265.875" y="526.842">done</text><line style="stroke:#000000;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="2.25" x2="971.625" y1="537.2344" y2="537.2344"/><text fill="#000000" font-family="sans-serif" font-size="8.25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96.75" x="6" y="545.7986">[wrong validation code]</text><polygon fill="#A80036" points="8.25,562.125,0.75,565.125,8.25,568.125,5.25,565.125" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;stroke-dasharray:2.0,2.0;" x1="3.75" x2="238.875" y1="565.125" y2="565.125"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.5" x="12.75" y="561.4827">18</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="106.5" x="26.25" y="561.4827">wrong code, please retry</text><polygon fill="#A80036" points="459.375,590.1387,466.875,593.1387,459.375,596.1387,462.375,593.1387" style="stroke:#A80036;stroke-width:0.75;"/><line style="stroke:#A80036;stroke-width:0.75;" x1="239.625" x2="463.875" y1="593.1387" y2="593.1387"/><text fill="#000000" font-family="sans-serif" font-size="9.75" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="10.5" x="244.875" y="589.4963">19</text><text fill="#000000" font-family="sans-serif" font-size="9.75" lengthAdjust="spacingAndGlyphs" textLength="197.25" x="258.375" y="589.4963">window.setScene(new Scene(Parent, int, int))</text><!--MD5=[8e100a70d486f4d4f02215e015495cbb]
@startuml
autonumber

ChangePasswordController -> ValidationController : tempUser.setPassword(String)
ChangePasswordController -> SplitPay : window.setScene(new Scene(Parent, int, int))

ChooseValidationMethodController -> UserFacade : getVerifiedPhone()
UserFacade -> UserDAO : getVerifiedPhone()
alt user has a verified phone
    UserDAO - -> ChooseValidationMethodController : phone
else verified phone = null
    UserDAO - -> ChooseValidationMethodController : exception
end
ChooseValidationMethodController -> UserFacade : getVerifiedPEmail()
UserFacade -> UserDAO : getVerifiedEmail()
alt user has a verified email
    UserDAO - -> ChooseValidationMethodController : email
else verified email = null
    UserDAO - -> ChooseValidationMethodController : exception
end
ChooseValidationMethodController -> ValidationController : isPhoneValidationMethod(Boolean);

ChooseValidationMethodController -> SplitPay : window.setScene(new Scene(Parent, int, int))

ValidationController -> ValidationController : generateValidationCode()
ValidationController -> ValidationController : sendValidationCode()
alt success
    ValidationController -> UserFacade : updateUser(tempUser)
    activate UserDAO
    UserFacade -> UserDAO : update(User)
    UserDAO - -> ValidationController : done
    deactivate UserDAO
else wrong validation code
    <- - ValidationController : wrong code, please retry
end
ValidationController -> SplitPay : window.setScene(new Scene(Parent, int, int))

@enduml

PlantUML version 1.2020.23(Sun Dec 13 20:14:58 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>