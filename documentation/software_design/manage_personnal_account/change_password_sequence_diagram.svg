<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="883px" preserveAspectRatio="none" style="width:1521px;height:883px;" version="1.1" viewBox="0 0 1521 883" width="1521px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lxf8d9a69n46" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1lxf8d9a69n46)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1453.5" y="676.9609"/><rect fill="#FFFFFF" filter="url(#f1lxf8d9a69n46)" height="94.8906" style="stroke:#000000;stroke-width:2.0;" width="495" x="1012" y="210.3672"/><rect fill="#FFFFFF" height="46.1875" style="stroke:none;stroke-width:1.0;" width="495" x="1012" y="259.0703"/><rect fill="#FFFFFF" filter="url(#f1lxf8d9a69n46)" height="94.8906" style="stroke:#000000;stroke-width:2.0;" width="495" x="1012" y="379.9609"/><rect fill="#FFFFFF" height="46.1875" style="stroke:none;stroke-width:1.0;" width="495" x="1012" y="428.6641"/><rect fill="#FFFFFF" filter="url(#f1lxf8d9a69n46)" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="1504" x="3" y="636.2578"/><rect fill="#FFFFFF" height="46.1875" style="stroke:none;stroke-width:1.0;" width="1504" x="3" y="745.6641"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="318.5" x2="318.5" y1="41.6094" y2="839.2031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="531" x2="531" y1="41.6094" y2="839.2031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="835.5" x2="835.5" y1="41.6094" y2="839.2031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1141" x2="1141" y1="41.6094" y2="839.2031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1317" x2="1317" y1="41.6094" y2="839.2031"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1458" x2="1458" y1="41.6094" y2="839.2031"/><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="187" x="223.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="230.5" y="26.5332">ChangePasswordController</text><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="187" x="223.5" y="838.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="230.5" y="859.7363">ChangePasswordController</text><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="138" x="460" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="467" y="26.5332">ValidationController</text><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="138" x="460" y="838.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="467" y="859.7363">ValidationController</text><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="801.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="808.5" y="26.5332">SplitPay</text><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="65" x="801.5" y="838.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="808.5" y="859.7363">SplitPay</text><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="234" x="1022" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="220" x="1029" y="26.5332">ChooseValidationMethodController</text><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="234" x="1022" y="838.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="220" x="1029" y="859.7363">ChooseValidationMethodController</text><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1270" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1277" y="26.5332">UserFacade</text><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1270" y="838.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1277" y="859.7363">UserFacade</text><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="1420" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1427" y="26.5332">UserDAO</text><rect fill="#FEFECE" filter="url(#f1lxf8d9a69n46)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="1420" y="838.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1427" y="859.7363">UserDAO</text><rect fill="#FFFFFF" filter="url(#f1lxf8d9a69n46)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1453.5" y="676.9609"/><polygon fill="#A80036" points="307,69.9609,317,73.9609,307,77.9609,311,73.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="0" x2="313" y1="73.9609" y2="73.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="7" y="69.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="18" y="69.1045">goToChooseValidationMethodView(ActionEvent)</text><polygon fill="#A80036" points="519,100.3125,529,104.3125,519,108.3125,523,104.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="319" x2="525" y1="104.3125" y2="104.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="326" y="99.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="337" y="99.4561">tempUser.setPassword(String)</text><polygon fill="#A80036" points="824,130.6641,834,134.6641,824,138.6641,828,134.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="319" x2="830" y1="134.6641" y2="134.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="326" y="129.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="337" y="129.8076">window.setScene(new Scene(Parent, int, int))</text><polygon fill="#A80036" points="1305.5,161.0156,1315.5,165.0156,1305.5,169.0156,1309.5,165.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1141" x2="1311.5" y1="165.0156" y2="165.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1148" y="160.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="1159" y="160.1592">getVerifiedPhone()</text><polygon fill="#A80036" points="1446.5,191.3672,1456.5,195.3672,1446.5,199.3672,1450.5,195.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1317.5" x2="1452.5" y1="195.3672" y2="195.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1324.5" y="190.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="1335.5" y="190.5107">getVerifiedPhone()</text><path d="M1012,210.3672 L1073,210.3672 L1073,218.3672 L1063,228.3672 L1012,228.3672 L1012,210.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:2.0;" width="495" x="1012" y="210.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="1027" y="224.8623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="149" x="1088" y="223.7861">[user has a verified phone]</text><polygon fill="#A80036" points="1152,247.0703,1142,251.0703,1152,255.0703,1148,251.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1146" x2="1457.5" y1="251.0703" y2="251.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1158" y="246.2139">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="1169" y="246.2139">phone</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1012" x2="1507" y1="260.0703" y2="260.0703"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="1017" y="271.4893">[verified phone = null]</text><polygon fill="#A80036" points="1152,293.2578,1142,297.2578,1152,301.2578,1148,297.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1146" x2="1457.5" y1="297.2578" y2="297.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1158" y="292.4014">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="1169" y="292.4014">exception</text><polygon fill="#A80036" points="1305.5,330.6094,1315.5,334.6094,1305.5,338.6094,1309.5,334.6094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1141" x2="1311.5" y1="334.6094" y2="334.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1148" y="329.7529">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1159" y="329.7529">getVerifiedEmail()</text><polygon fill="#A80036" points="1446.5,360.9609,1456.5,364.9609,1446.5,368.9609,1450.5,364.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1317.5" x2="1452.5" y1="364.9609" y2="364.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1324.5" y="360.1045">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1335.5" y="360.1045">getVerifiedEmail()</text><path d="M1012,379.9609 L1073,379.9609 L1073,387.9609 L1063,397.9609 L1012,397.9609 L1012,379.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="94.8906" style="stroke:#000000;stroke-width:2.0;" width="495" x="1012" y="379.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="1027" y="394.4561">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="1088" y="393.3799">[user has a verified email]</text><polygon fill="#A80036" points="1152,416.6641,1142,420.6641,1152,424.6641,1148,420.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1146" x2="1457.5" y1="420.6641" y2="420.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1158" y="415.8076">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="1176" y="415.8076">email</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1012" x2="1507" y1="429.6641" y2="429.6641"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="1017" y="441.083">[verified email = null]</text><polygon fill="#A80036" points="1152,462.8516,1142,466.8516,1152,470.8516,1148,466.8516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1146" x2="1457.5" y1="466.8516" y2="466.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1158" y="461.9951">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="1176" y="461.9951">exception</text><polygon fill="#A80036" points="542,500.2031,532,504.2031,542,508.2031,538,504.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="536" x2="1140" y1="504.2031" y2="504.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="548" y="499.3467">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="566" y="499.3467">isPhoneValidationMethod(Boolean);</text><polygon fill="#A80036" points="847,530.5547,837,534.5547,847,538.5547,843,534.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="841" x2="1140" y1="534.5547" y2="534.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="853" y="529.6982">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="871" y="529.6982">window.setScene(new Scene(Parent, int, int))</text><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="573" y1="564.9063" y2="564.9063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="573" y1="564.9063" y2="577.9063"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532" x2="573" y1="577.9063" y2="577.9063"/><polygon fill="#A80036" points="542,573.9063,532,577.9063,542,581.9063,538,577.9063" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="538" y="560.0498">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="556" y="560.0498">generateValidationCode()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="573" y1="608.2578" y2="608.2578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="573" x2="573" y1="608.2578" y2="621.2578"/><line style="stroke:#A80036;stroke-width:1.0;" x1="532" x2="573" y1="621.2578" y2="621.2578"/><polygon fill="#A80036" points="542,617.2578,532,621.2578,542,625.2578,538,621.2578" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="538" y="603.4014">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="556" y="603.4014">sendValidationCode()</text><path d="M3,636.2578 L64,636.2578 L64,644.2578 L54,654.2578 L3,654.2578 L3,636.2578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="155.5938" style="stroke:#000000;stroke-width:2.0;" width="1504" x="3" y="636.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="18" y="650.7529">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="79" y="649.6768">[success]</text><polygon fill="#A80036" points="1305.5,672.9609,1315.5,676.9609,1305.5,680.9609,1309.5,676.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="1311.5" y1="676.9609" y2="676.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="538" y="672.1045">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="556" y="672.1045">updateUser(tempUser)</text><polygon fill="#A80036" points="1441.5,703.3125,1451.5,707.3125,1441.5,711.3125,1445.5,707.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1317.5" x2="1447.5" y1="707.3125" y2="707.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1324.5" y="702.4561">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="1342.5" y="702.4561">update(User)</text><polygon fill="#A80036" points="542,733.6641,532,737.6641,542,741.6641,538,737.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="536" x2="1457.5" y1="737.6641" y2="737.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="548" y="732.8076">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="566" y="732.8076">done</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3" x2="1507" y1="746.6641" y2="746.6641"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="8" y="758.083">[wrong validation code]</text><polygon fill="#A80036" points="11,779.8516,1,783.8516,11,787.8516,7,783.8516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="530" y1="783.8516" y2="783.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="17" y="778.9951">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="35" y="778.9951">wrong code, please retry</text><polygon fill="#A80036" points="824,817.2031,834,821.2031,824,825.2031,828,821.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="531" x2="830" y1="821.2031" y2="821.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="538" y="816.3467">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="263" x="556" y="816.3467">window.setScene(new Scene(Parent, int, int))</text><!--MD5=[a813bf249878fce4f54b711544f9d13f]
@startuml
autonumber

-> ChangePasswordController : goToChooseValidationMethodView(ActionEvent)
ChangePasswordController -> ValidationController : tempUser.setPassword(String)
ChangePasswordController -> SplitPay : window.setScene(new Scene(Parent, int, int))

ChooseValidationMethodController -> UserFacade : getVerifiedPhone()
UserFacade -> UserDAO : getVerifiedPhone()
alt user has a verified phone
    UserDAO - -> ChooseValidationMethodController : phone
else verified phone = null
    UserDAO - -> ChooseValidationMethodController : exception
end
ChooseValidationMethodController -> UserFacade : getVerifiedEmail()
UserFacade -> UserDAO : getVerifiedEmail()
alt user has a verified email
    UserDAO - -> ChooseValidationMethodController : email
else verified email = null
    UserDAO - -> ChooseValidationMethodController : exception
end
ChooseValidationMethodController -> ValidationController : isPhoneValidationMethod(Boolean);

ChooseValidationMethodController -> SplitPay : window.setScene(new Scene(Parent, int, int))

ValidationController -> ValidationController : generateValidationCode()
ValidationController -> ValidationController : sendValidationCode()
alt success
    ValidationController -> UserFacade : updateUser(tempUser)
    activate UserDAO
    UserFacade -> UserDAO : update(User)
    UserDAO - -> ValidationController : done
    deactivate UserDAO
else wrong validation code
    <- - ValidationController : wrong code, please retry
end
ValidationController -> SplitPay : window.setScene(new Scene(Parent, int, int))

@enduml

PlantUML version 1.2020.23(Sun Dec 13 20:14:58 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>